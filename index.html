<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë³¸ ì¥ê¸° ì²´ë¥˜ ë° ì¬ì…êµ­ ì „ëµ ë¦¬í¬íŠ¸</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'neutral-bg': '#F5F5F0',     /* Warm Off-white */
                        'card-bg': '#FFFFFF',
                        'primary': '#2C3E50',        /* Dark Slate Blue (Professional/Official) */
                        'accent-safe': '#4A7C59',    /* Muted Sage (Safe/Go) */
                        'accent-risk': '#C0392B',    /* Muted Red (Danger) */
                        'highlight': '#D4AC0D',      /* Muted Gold (Attention) */
                    },
                    fontFamily: {
                        sans: ['"Noto Sans KR"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F5F5F0;
            color: #333;
        }
        
        /* Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            background-color: #fff;
            border-radius: 0.5rem;
            /* Base height */
            height: 300px;
            max-height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #2C3E50;
            cursor: pointer;
            margin-top: -8px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #E5E7EB;
            border-radius: 2px;
        }

        .shadow-soft {
            box-shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.05);
        }

        /* Flow Diagram Elements */
        .flow-step {
            position: relative;
        }
        .flow-line::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -20px;
            width: 20px;
            height: 2px;
            background-color: #CBD5E1;
            display: none;
        }
        @media (min-width: 768px) {
            .flow-line::after {
                display: block;
            }
            .flow-line:last-child::after {
                display: none;
            }
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- REQUIRED PLACEHOLDERS -->
    <!-- Chosen Palette: Warm Neutrals & Professional Slate (Calm Harmony) -->
    <!-- Application Structure Plan: 
         1. Hero Section: Overview of the mission (Safe Long-term Stay).
         2. Strategic Calculator (Dashboard): Interactive sliders to simulate the "Split Stay" plan (60+30+60) vs. the hard limits (90/180). Updates a Chart.js Donut.
         3. Timeline Visualization: A structured HTML flow showing the chronological steps (Entry -> Break -> Entry).
         4. Asset Inventory: Cards detailing the assets (Civil Servant, GF, Money) used for credibility.
         5. Simulation (Training): Interactive Q&A for Immigration checks (Don't say "Living", say "Tourism").
         6. Checklist: Interactive items for document preparation.
         Rationale: Users need to calculate their days to feel safe (Calculator), understand the sequence (Timeline), and practice their cover story (Simulation).
    -->
    <!-- Visualization & Content Choices:
         1. Stay Limit Calculator: Chart.js Donut. Goal: Inform/Compare. Visualizes "Days Used" vs "Remaining Safe Limit" dynamically.
         2. Timeline Flow: HTML/Flexbox. Goal: Organize. Shows the sequential nature of the plan.
         3. Credibility Assets: Grid/Cards with Icons (Unicode). Goal: Inform. Highlights key strengths.
         4. Risk Simulation: JS Toggle/Accordion. Goal: Inform/Train. Hides "Correct Answers" behind interaction to test user knowledge.
         5. Document Checklist: HTML Inputs. Goal: Organize.
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <!-- HEADER -->
    <header class="bg-primary text-white py-8 shadow-md">
        <div class="max-w-6xl mx-auto px-4">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">ğŸ‡¯ğŸ‡µ ì¼ë³¸ ì¥ê¸° ì²´ë¥˜ ë° ì¬ì…êµ­ ì „ëµ</h1>
            <p class="text-gray-300 text-lg">ê³µë¬´ì› ì‹ ë¶„ ë° ì§€ì¸ ë°©ë¬¸ì„ í™œìš©í•œ 180ì¼ ê´€ë¦¬ í”Œëœ</p>
        </div>
    </header>

    <main class="flex-grow max-w-6xl mx-auto px-4 py-8 space-y-12 w-full">

        <!-- INTRO -->
        <section>
            <div class="bg-card-bg rounded-xl shadow-soft p-6 border-l-4 border-highlight">
                <h2 class="text-xl font-bold text-primary mb-2">ğŸ“„ ì „ëµ ê°œìš”</h2>
                <p class="text-gray-600 leading-relaxed">
                    ë³¸ ë¦¬í¬íŠ¸ëŠ” <strong>ë¬´ë¹„ì ì…êµ­(90ì¼)</strong> ì œë„ë¥¼ í™œìš©í•˜ì—¬ 1ë…„ ì¤‘ ìµœëŒ€ 180ì¼ ì´ë‚´ë¡œ ì¼ë³¸ì— ì²´ë¥˜í•˜ê¸° ìœ„í•œ 
                    <span class="text-primary font-semibold">ë¶„í•  ì²´ë¥˜ ì „ëµ</span>ì„ ì‹œê°í™”í•˜ì˜€ìŠµë‹ˆë‹¤. 
                    ë‹¨ìˆœ ê´€ê´‘ ëª©ì ì„ ìœ ì§€í•˜ë©°, <strong>ê³µë¬´ì› ì‹ ë¶„</strong>ì´ë¼ëŠ” í™•ì‹¤í•œ ê·€êµ­ ë³´ì¦ ìˆ˜ë‹¨ì„ í†µí•´ ì…êµ­ ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.
                </p>
            </div>
        </section>

        <!-- DASHBOARD SECTION: Stay Calculator -->
        <section>
            <div class="mb-4">
                <h2 class="text-2xl font-bold text-primary flex items-center gap-2">
                    <span>â±ï¸</span> ì²´ë¥˜ ê¸°ê°„ ì‹œë®¬ë ˆì´í„°
                </h2>
                <p class="text-gray-500 mt-1">
                    ì²´ë¥˜ ì¼ì •ì„ ì¡°ì •í•˜ì—¬ <strong>180ì¼ í•œë„</strong>ì™€ <strong>90ì¼ 1íšŒ í•œë„</strong> ë‚´ì—ì„œ ì•ˆì „í•œì§€ í™•ì¸í•´ë³´ì„¸ìš”.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Controls -->
                <div class="lg:col-span-2 bg-card-bg rounded-xl shadow-soft p-6">
                    <div class="space-y-8">
                        <!-- Slider 1 -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="font-semibold text-gray-700">1ì°¨ ë°©ë¬¸ ê¸°ê°„ (ì¼)</label>
                                <span id="val-visit1" class="font-bold text-primary">75ì¼</span>
                            </div>
                            <input type="range" id="visit1" min="1" max="100" value="75" class="w-full">
                            <p class="text-xs text-gray-400 mt-1">ê¶Œì¥: 60~75ì¼ (90ì¼ ì´ˆê³¼ ì‹œ ìœ„í—˜)</p>
                        </div>

                        <!-- Slider 2 -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="font-semibold text-gray-700">í•œêµ­ ì²´ë¥˜ (ì¬ì •ë¹„) ê¸°ê°„ (ì¼)</label>
                                <span id="val-break" class="font-bold text-gray-600">30ì¼</span>
                            </div>
                            <input type="range" id="breakTime" min="1" max="60" value="30" class="w-full">
                            <p class="text-xs text-gray-400 mt-1">ê¶Œì¥: ìµœì†Œ 30ì¼ ì´ìƒ (ê±°ì£¼ ì˜ì‹¬ íšŒí”¼)</p>
                        </div>

                        <!-- Slider 3 -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="font-semibold text-gray-700">2ì°¨ ë°©ë¬¸ ê¸°ê°„ (ì¼)</label>
                                <span id="val-visit2" class="font-bold text-primary">75ì¼</span>
                            </div>
                            <input type="range" id="visit2" min="1" max="100" value="75" class="w-full">
                            <p class="text-xs text-gray-400 mt-1">ìµœì¢… ëˆ„ì ì¼ ê´€ë¦¬ í•„ìš”</p>
                        </div>
                    </div>
                    
                    <!-- Analysis Box -->
                    <div id="analysis-box" class="mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200">
                        <h4 class="font-bold text-gray-700 mb-2">ğŸ“Š ë¦¬ìŠ¤í¬ ë¶„ì„</h4>
                        <p id="analysis-text" class="text-sm text-gray-600">ë¶„ì„ ì¤‘...</p>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="bg-card-bg rounded-xl shadow-soft p-6 flex flex-col items-center justify-center">
                    <h3 class="text-lg font-semibold text-gray-600 mb-4 w-full text-left">ëˆ„ì  ì²´ë¥˜ì¼ í˜„í™©</h3>
                    <div class="chart-container">
                        <canvas id="stayChart"></canvas>
                    </div>
                    <div class="mt-4 text-center">
                        <span class="block text-3xl font-bold text-primary" id="total-days-display">150ì¼</span>
                        <span class="text-sm text-gray-400">/ 1ë…„ ìµœëŒ€ 180ì¼ ê¶Œê³ </span>
                    </div>
                </div>
            </div>
        </section>

        <!-- TIMELINE FLOW -->
        <section>
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-primary flex items-center gap-2">
                    <span>âœˆï¸</span> ë‹¨ê³„ë³„ ì‹¤í–‰ í”Œëœ
                </h2>
                <p class="text-gray-500">ì„±ê³µì ì¸ ì¥ê¸° ì²´ë¥˜ë¥¼ ìœ„í•œ ìˆœì°¨ì  í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Step 1 -->
                <div class="bg-white p-6 rounded-lg border-t-4 border-blue-600 shadow-sm relative flow-line">
                    <div class="text-blue-600 text-2xl font-bold mb-2">Step 1</div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">1ì°¨ ì…êµ­ ë° ì²´ë¥˜</h3>
                    <p class="text-sm text-gray-600 mb-2">ì•½ 60~75ì¼ ì²´ë¥˜</p>
                    <ul class="text-sm text-gray-500 list-disc list-inside space-y-1">
                        <li>ìˆœìˆ˜ ê´€ê´‘ ë° íœ´ì‹ ê°•ì¡°</li>
                        <li>êµí†  ì£¼ë³€ ì—¬í–‰</li>
                        <li>ë§Œë£Œì¼ 2ì£¼ ì „ ì¶œêµ­ ì¤€ë¹„</li>
                    </ul>
                </div>

                <!-- Step 2 -->
                <div class="bg-white p-6 rounded-lg border-t-4 border-gray-400 shadow-sm relative flow-line">
                    <div class="text-gray-500 text-2xl font-bold mb-2">Step 2</div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">í•œêµ­ ë³µê·€ (ì¬ì •ë¹„)</h3>
                    <p class="text-sm text-gray-600 mb-2">ìµœì†Œ 30ì¼ ì´ìƒ ì²´ë¥˜</p>
                    <ul class="text-sm text-gray-500 list-disc list-inside space-y-1">
                        <li>'ê±°ì£¼'ê°€ ì•„ë‹˜ì„ ì¦ëª…í•˜ëŠ” ê¸°ê°„</li>
                        <li>ì§ì¥ ë³µê·€ ì¤€ë¹„ ì²™í•˜ê¸°</li>
                        <li>ì¬ì…êµ­ ì„œë¥˜(ì”ê³  ë“±) ê°±ì‹ </li>
                    </ul>
                </div>

                <!-- Step 3 -->
                <div class="bg-white p-6 rounded-lg border-t-4 border-blue-600 shadow-sm">
                    <div class="text-blue-600 text-2xl font-bold mb-2">Step 3</div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">2ì°¨ ì…êµ­ (ì¬ì…êµ­)</h3>
                    <p class="text-sm text-gray-600 mb-2">ì”ì—¬ ê¸°ê°„ (60~75ì¼)</p>
                    <ul class="text-sm text-gray-500 list-disc list-inside space-y-1">
                        <li>ì…êµ­ ì‹¬ì‚¬ ê°•í™” ëŒ€ë¹„</li>
                        <li>ì™•ë³µ í‹°ì¼“ í•„ìˆ˜ ì§€ì°¸</li>
                        <li>ìµœì¢… ëˆ„ì  180ì¼ ë¯¸ë§Œ ì¤€ìˆ˜</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- ASSETS GRID -->
        <section>
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-primary flex items-center gap-2">
                    <span>ğŸ›¡ï¸</span> ì…êµ­ ì‹¬ì‚¬ ë°©ì–´ ìì‚°
                </h2>
                <p class="text-gray-500">ì…êµ­ ê±°ë¶€ë¥¼ ë§‰ê³  ì‹ ë¢°ë¥¼ í™•ë³´í•˜ê¸° ìœ„í•œ 3ê°€ì§€ í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Asset 1 -->
                <div class="bg-white rounded-xl p-6 shadow-soft hover:shadow-md transition-shadow">
                    <div class="text-4xl mb-4">ğŸ›ï¸</div>
                    <h3 class="text-lg font-bold text-gray-800">ê³µë¬´ì› ì‹ ë¶„</h3>
                    <div class="mt-2 text-sm text-gray-600">
                        <p class="mb-2"><strong>ì—­í• :</strong> ë¶ˆë²• ì·¨ì—… ë° ë¶ˆë²• ì²´ë¥˜ ê°€ëŠ¥ì„± 0% ì¦ëª….</p>
                        <p class="bg-blue-50 text-blue-800 p-2 rounded">"í•œêµ­ì— ëŒì•„ê°ˆ í™•ì‹¤í•œ ì§ì¥ì´ ìˆëŠ” ì•ˆì •ì ì¸ ê´€ê´‘ê°"</p>
                    </div>
                </div>

                <!-- Asset 2 -->
                <div class="bg-white rounded-xl p-6 shadow-soft hover:shadow-md transition-shadow">
                    <div class="text-4xl mb-4">ğŸ“</div>
                    <h3 class="text-lg font-bold text-gray-800">ì§€ì¸ (êµí† ëŒ€ìƒ)</h3>
                    <div class="mt-2 text-sm text-gray-600">
                        <p class="mb-2"><strong>ì—­í• :</strong> ì¥ê¸° ì²´ë¥˜ì˜ ëª…ë¶„ (ë°©ë¬¸ ë° ë™ë°˜ ì—¬í–‰).</p>
                        <p class="bg-green-50 text-green-800 p-2 rounded">"êµí† ëŒ€í•™êµ ì¬í•™ ì¤‘ì¸ ì—¬ìì¹œêµ¬ ê²©ë ¤ì°¨ ë°©ë¬¸"</p>
                    </div>
                </div>

                <!-- Asset 3 -->
                <div class="bg-white rounded-xl p-6 shadow-soft hover:shadow-md transition-shadow">
                    <div class="text-4xl mb-4">ğŸ’°</div>
                    <h3 class="text-lg font-bold text-gray-800">ì¬ì • ì¦ëª…</h3>
                    <div class="mt-2 text-sm text-gray-600">
                        <p class="mb-2"><strong>ì—­í• :</strong> ì¼ë³¸ ë‚´ ê²½ì œ í™œë™ ë¶ˆí•„ìš” ì¦ëª….</p>
                        <p class="bg-yellow-50 text-yellow-800 p-2 rounded">"ì˜ë¬¸ ì”ê³  ì¦ëª…ì„œ ë° ì™•ë³µ í•­ê³µê¶Œ ì†Œì§€"</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- INTERACTIVE TRAINING -->
        <section class="bg-white rounded-xl shadow-soft p-8 border border-gray-100">
            <div class="mb-8 text-center">
                <h2 class="text-2xl font-bold text-primary">ğŸ‘® ì…êµ­ ì‹¬ì‚¬ ì‹œë®¬ë ˆì´ì…˜</h2>
                <p class="text-gray-500 mt-2">ì‹¬ì‚¬ê´€ì˜ ì§ˆë¬¸ì— ì˜¬ë°”ë¥´ê²Œ ëŒ€ë‹µí•  ìˆ˜ ìˆë‚˜ìš”? ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ ëª¨ë²” ë‹µì•ˆì„ í™•ì¸í•˜ì„¸ìš”.</p>
            </div>

            <div class="space-y-4">
                <!-- Q1 -->
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-bold text-gray-700 transition-colors" onclick="toggleAnswer('ans1')">
                        <span>Q1. ì™œ ì´ë ‡ê²Œ ì˜¤ë˜ ë¨¸ë¬´ë‚˜ìš”? (Why so long?)</span>
                        <span class="text-gray-400">â–¼</span>
                    </button>
                    <div id="ans1" class="hidden p-4 bg-white border-t border-gray-100">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-3 bg-red-50 text-red-700 rounded border border-red-100">
                                <span class="font-bold">âŒ ì ˆëŒ€ ê¸ˆì§€ (Forbidden)</span><br>
                                "ì¼ë³¸ì—ì„œ <strong>ì‚´ì•„ë³´ê³ </strong> ì‹¶ì–´ì„œìš”."<br>
                                "ì—¬ìì¹œêµ¬ë‘ <strong>ë™ê±°</strong>í•˜ë ¤ê³ ìš”."<br>
                                (Live, Stay long term, Work)
                            </div>
                            <div class="p-3 bg-green-50 text-green-700 rounded border border-green-100">
                                <span class="font-bold">âœ… ëª¨ë²” ë‹µì•ˆ (Recommended)</span><br>
                                "í•œêµ­ì—ì„œ ê¸´ íœ´ê°€ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤."<br>
                                "êµí†  ë“± ì—¬ëŸ¬ ë„ì‹œë¥¼ ì²œì²œíˆ <strong>ì—¬í–‰(Travel)</strong>í•˜ê³  ì¹œêµ¬ë„ ë§Œë‚  ì˜ˆì •ì…ë‹ˆë‹¤."
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Q2 -->
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-bold text-gray-700 transition-colors" onclick="toggleAnswer('ans2')">
                        <span>Q2. ì¼ë³¸ì—ì„œ ì¼í•  ê³„íšì´ ìˆë‚˜ìš”? (Work?)</span>
                        <span class="text-gray-400">â–¼</span>
                    </button>
                    <div id="ans2" class="hidden p-4 bg-white border-t border-gray-100">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-3 bg-red-50 text-red-700 rounded border border-red-100">
                                <span class="font-bold">âŒ ì ˆëŒ€ ê¸ˆì§€ (Forbidden)</span><br>
                                "ëˆ ë–¨ì–´ì§€ë©´ ì•„ë¥´ë°”ì´íŠ¸ë¼ë„ í• ê¹Œ ìƒê° ì¤‘ì…ë‹ˆë‹¤."<br>
                                "ì˜¨ë¼ì¸ìœ¼ë¡œ í•œêµ­ ì—…ë¬´ë¥¼ ê³„ì† í•©ë‹ˆë‹¤."
                            </div>
                            <div class="p-3 bg-green-50 text-green-700 rounded border border-green-100">
                                <span class="font-bold">âœ… ëª¨ë²” ë‹µì•ˆ (Recommended)</span><br>
                                "ì „í˜€ ì—†ìŠµë‹ˆë‹¤ (No)."<br>
                                "ì €ëŠ” í•œêµ­ ê³µë¬´ì›ì´ë©°, ì¶©ë¶„í•œ ì €ì¶•ì´ ìˆìŠµë‹ˆë‹¤." (ì”ê³  ì¦ëª…ì„œ ì œì‹œ)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Q3 -->
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-bold text-gray-700 transition-colors" onclick="toggleAnswer('ans3')">
                        <span>Q3. ìˆ™ì†ŒëŠ” ì–´ë””ì¸ê°€ìš”? (Accommodation?)</span>
                        <span class="text-gray-400">â–¼</span>
                    </button>
                    <div id="ans3" class="hidden p-4 bg-white border-t border-gray-100">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-3 bg-red-50 text-red-700 rounded border border-red-100">
                                <span class="font-bold">âŒ ìœ„í—˜ ë‹µë³€ (Risk)</span><br>
                                "ì•„ì§ ì•ˆ ì •í–ˆìŠµë‹ˆë‹¤." (90ì¼ì¸ë° ë¯¸ì •ì´ë©´ ì˜ì‹¬)<br>
                                "ê·¸ëƒ¥ ì¹œêµ¬ ì§‘ì—ì„œ ê³„ì† ì§€ë‚¼ ê²ë‹ˆë‹¤." (ì˜ì¡´ì  ì²´ë¥˜ ì˜ì‹¬)
                            </div>
                            <div class="p-3 bg-green-50 text-green-700 rounded border border-green-100">
                                <span class="font-bold">âœ… ëª¨ë²” ë‹µì•ˆ (Recommended)</span><br>
                                "ì´ˆë°˜ì—ëŠ” í˜¸í…”ì— ë¬µê³ , ì´í›„ì—ëŠ” ì¹œêµ¬ì™€ í•¨ê»˜ ì—¬í–‰í•˜ë©° ìˆ™ì†Œë¥¼ ì˜®ê¸¸ ì˜ˆì •ì…ë‹ˆë‹¤."<br>
                                (ì—¬ìì¹œêµ¬ ì£¼ì†Œì™€ ì—°ë½ì²˜, í•™ìƒì¦ ì‚¬ë³¸ ì¤€ë¹„)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHECKLIST -->
        <section>
            <div class="bg-primary rounded-xl p-8 text-white">
                <h2 class="text-2xl font-bold mb-4">âœ… í•„ìˆ˜ ì¤€ë¹„ ì„œë¥˜ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <label class="flex items-center space-x-3 cursor-pointer p-3 bg-white/10 rounded hover:bg-white/20 transition">
                        <input type="checkbox" class="w-5 h-5 accent-highlight rounded">
                        <span><strong>ì˜ë¬¸ ì¬ì§ì¦ëª…ì„œ</strong> (ê³µë¬´ì› ì‹ ë¶„ ì¦ë¹™)</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer p-3 bg-white/10 rounded hover:bg-white/20 transition">
                        <input type="checkbox" class="w-5 h-5 accent-highlight rounded">
                        <span><strong>ì™•ë³µ í•­ê³µê¶Œ</strong> (90ì¼ ì´ë‚´ ê·€êµ­ í™•ì • í‹°ì¼“)</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer p-3 bg-white/10 rounded hover:bg-white/20 transition">
                        <input type="checkbox" class="w-5 h-5 accent-highlight rounded">
                        <span><strong>ì˜ë¬¸ ì”ê³  ì¦ëª…ì„œ</strong> (ìµœì†Œ 500ë§Œì› ì´ìƒ ê¶Œì¥)</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer p-3 bg-white/10 rounded hover:bg-white/20 transition">
                        <input type="checkbox" class="w-5 h-5 accent-highlight rounded">
                        <span><strong>ì§€ì¸ ì‹ ì› ìë£Œ</strong> (ì—¬ì¹œ í•™ìƒì¦/ì¬í•™ì¦ëª…ì„œ)</span>
                    </label>
                </div>
            </div>
        </section>

        <!-- FUTURE ALTERNATIVES -->
        <section>
            <h2 class="text-2xl font-bold text-primary mb-4">ğŸš€ í–¥í›„ ì¥ê¸° ì²´ë¥˜ ëŒ€ì•ˆ</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                <div class="bg-white p-4 rounded-lg border border-gray-200">
                    <h4 class="font-bold text-gray-800">ì›Œí‚¹í™€ë¦¬ë°ì´</h4>
                    <p class="text-gray-500 mt-1">ë§Œ 30ì„¸ ì´ì „ ì‹ ì²­ í•„ìˆ˜. 1ë…„ê°„ ììœ ë¡­ê²Œ ê±°ì£¼ ë° ì·¨ì—… ê°€ëŠ¥.</p>
                </div>
                <div class="bg-white p-4 rounded-lg border border-gray-200">
                    <h4 class="font-bold text-gray-800">ìœ í•™ íœ´ì§</h4>
                    <p class="text-gray-500 mt-1">ê³µë¬´ì› ì‹ ë¶„ ìœ ì§€í•˜ë©° ì–´í•™ì› ë“±ë¡. ìœ í•™ ë¹„ìë¡œ ì•ˆì •ì  ì²´ë¥˜.</p>
                </div>
                <div class="bg-white p-4 rounded-lg border border-gray-200">
                    <h4 class="font-bold text-gray-800">ë°°ìš°ì ë¹„ì</h4>
                    <p class="text-gray-500 mt-1">í˜¼ì¸ ì‹ ê³  í›„ ì‹ ì²­. ì·¨ì—… ë° ì²´ë¥˜ ì œí•œì´ ì—†ëŠ” ê°€ì¥ ê°•ë ¥í•œ ë¹„ì.</p>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="bg-gray-100 border-t border-gray-200 py-6 mt-12">
        <div class="max-w-6xl mx-auto px-4 text-center text-gray-500 text-sm">
            <p>â€» ë³¸ ë¦¬í¬íŠ¸ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ì…êµ­ ì‹¬ì‚¬ ê²°ê³¼ëŠ” ì‹¬ì‚¬ê´€ì˜ ì¬ëŸ‰ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA & STATE ---
        const limits = {
            maxSingleStay: 90,
            maxYearlyStay: 180,
            recommendedTotal: 150
        };

        const inputs = {
            visit1: document.getElementById('visit1'),
            visit2: document.getElementById('visit2'),
            breakTime: document.getElementById('breakTime')
        };

        const displays = {
            visit1: document.getElementById('val-visit1'),
            visit2: document.getElementById('val-visit2'),
            breakTime: document.getElementById('val-break'),
            total: document.getElementById('total-days-display'),
            analysis: document.getElementById('analysis-text'),
            analysisBox: document.getElementById('analysis-box')
        };

        let chartInstance = null;

        // --- CHART INITIALIZATION (Chart.js) ---
        function initChart() {
            const ctx = document.getElementById('stayChart').getContext('2d');
            
            chartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['í˜„ì¬ ê³„íš (Planned)', 'ì•ˆì „ ì—¬ìœ  (Safe Margin)', 'ì´ˆê³¼ ìœ„í—˜ (Risk)'],
                    datasets: [{
                        data: [150, 30, 0], // Initial data
                        backgroundColor: [
                            '#2C3E50', // Planned (Primary)
                            '#4A7C59', // Margin (Safe Green)
                            '#C0392B'  // Risk (Red)
                        ],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: { family: '"Noto Sans KR", sans-serif', size: 12 },
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return ` ${context.label}: ${context.raw}ì¼`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- LOGIC: UPDATE CALCULATIONS ---
        function updateSimulation() {
            const v1 = parseInt(inputs.visit1.value);
            const v2 = parseInt(inputs.visit2.value);
            const brk = parseInt(inputs.breakTime.value);

            // Update Text Displays
            displays.visit1.textContent = `${v1}ì¼`;
            displays.visit2.textContent = `${v2}ì¼`;
            displays.breakTime.textContent = `${brk}ì¼`;

            const totalStay = v1 + v2;
            displays.total.textContent = `${totalStay}ì¼`;

            // Logic Analysis
            let riskLevel = "safe"; // safe, caution, danger
            let messages = [];

            // 1. Single Stay Limit Check
            if (v1 > 90 || v2 > 90) {
                riskLevel = "danger";
                messages.push("ğŸš¨ ê²½ê³ : 1íšŒ ë°©ë¬¸ì´ 90ì¼ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ë¬´ë¹„ì ê·œì • ìœ„ë°˜ìœ¼ë¡œ ì…êµ­ì´ ê±°ë¶€ë©ë‹ˆë‹¤.");
            } else if (v1 > 85 || v2 > 85) {
                riskLevel = "caution";
                messages.push("âš ï¸ ì£¼ì˜: 90ì¼ í•œë„ë¥¼ ê½‰ ì±„ìš°ëŠ” ê²ƒì€ 'ì˜¤ë²„ìŠ¤í…Œì´' ìœ„í—˜ìœ¼ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
            }

            // 2. Yearly Total Limit Check
            if (totalStay > 180) {
                riskLevel = "danger";
                messages.push(`ğŸš¨ ê²½ê³ : ì—°ê°„ ëˆ„ì  ${totalStay}ì¼ì…ë‹ˆë‹¤. 180ì¼ ê·œì •ì„ ì´ˆê³¼í•˜ì—¬ ì¬ì…êµ­ ê±°ë¶€ í™•ë¥ ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.`);
            } else if (totalStay > 160) {
                riskLevel = "caution";
                messages.push("âš ï¸ ì£¼ì˜: ì—°ê°„ ëˆ„ì  ì²´ë¥˜ì¼ì´ ë§ìŠµë‹ˆë‹¤. ì¬ì…êµ­ ì‹œ ì •ë°€ ì‹¬ì‚¬ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.");
            }

            // 3. Break Time Check
            if (brk < 20) {
                riskLevel = riskLevel === "danger" ? "danger" : "caution";
                messages.push("âš ï¸ ì£¼ì˜: í•œêµ­ ì²´ë¥˜ ê¸°ê°„ì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤. ë‹¨ìˆœ ë¹„ì ëŸ°(Visa Run)ìœ¼ë¡œ ì˜ì‹¬ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
            }

            // Default Safe Message
            if (messages.length === 0) {
                messages.push("âœ… ì•ˆì „: ê·œì • ë‚´ì—ì„œ ì ì ˆí•˜ê²Œ ë¶„ë°°ëœ ê³„íšì…ë‹ˆë‹¤. ê³µë¬´ì› ì‹ ë¶„ ì¦ë¹™ ì‹œ ë¬¸ì œì—†ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.");
            }

            // Update UI based on Risk
            displays.analysis.innerHTML = messages.join("<br>");
            
            if (riskLevel === "danger") {
                displays.analysisBox.className = "mt-8 p-4 bg-red-50 rounded-lg border border-red-200 text-red-800";
                displays.total.className = "block text-3xl font-bold text-accent-risk";
            } else if (riskLevel === "caution") {
                displays.analysisBox.className = "mt-8 p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-800";
                displays.total.className = "block text-3xl font-bold text-highlight";
            } else {
                displays.analysisBox.className = "mt-8 p-4 bg-green-50 rounded-lg border border-green-200 text-green-800";
                displays.total.className = "block text-3xl font-bold text-accent-safe";
            }

            // Update Chart Data
            // Format: [Used, Remaining Safe, Over Limit]
            let chartData = [];
            if (totalStay <= 180) {
                chartData = [totalStay, 180 - totalStay, 0];
            } else {
                chartData = [180, 0, totalStay - 180];
            }
            
            chartInstance.data.datasets[0].data = chartData;
            
            // Dynamic Color Update for "Used" segment
            if (riskLevel === "danger") {
                 chartInstance.data.datasets[0].backgroundColor[0] = '#C0392B'; // Red
            } else if (riskLevel === "caution") {
                 chartInstance.data.datasets[0].backgroundColor[0] = '#D4AC0D'; // Gold
            } else {
                 chartInstance.data.datasets[0].backgroundColor[0] = '#2C3E50'; // Blue
            }

            chartInstance.update();
        }

        // --- INTERACTION: ACCORDION TOGGLE ---
        function toggleAnswer(id) {
            const element = document.getElementById(id);
            if (element.classList.contains('hidden')) {
                element.classList.remove('hidden');
            } else {
                element.classList.add('hidden');
            }
        }

        // --- EVENTS ---
        window.addEventListener('DOMContentLoaded', () => {
            initChart();
            updateSimulation(); // Run once on load

            // Attach listeners to sliders
            Object.values(inputs).forEach(input => {
                input.addEventListener('input', updateSimulation);
            });
        });

    </script>
</body>
</html>